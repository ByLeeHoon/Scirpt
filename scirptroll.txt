--ui--

local Lib = loadstring(game:HttpGet("https://raw.githubusercontent.com/7yhx/kwargs_Ui_Library/main/source.lua"))()

-- Script de rollback para Anime Defenders com botões de ativar/desativar
local Players = game:GetService("Players")
local ItemName = "coin" -- Nome do item (ajuste conforme necessário)
local RollbackEnabled = false

-- Função para salvar a posição atual do jogador
function SavePosition(player)
    player:SetAttribute("SavedPosition_" .. ItemName, player.Character.HumanoidRootPart.Position)
end

-- Função para restaurar a posição do jogador
function RestorePosition(player)
    local savedPosition = player:GetAttribute("SavedPosition_" .. ItemName)
    if savedPosition then
        player.Character.HumanoidRootPart.CFrame = CFrame.new(savedPosition)
    end
end

-- Conecte as funções aos eventos do jogador
Players.PlayerAdded:Connect(function(player)
    player.CharacterAdded:Connect(function()
        if RollbackEnabled then
            SavePosition(player)
        end
    end)
end)

Players.PlayerRemoving:Connect(function(player)
    player:SetAttribute("SavedPosition_" .. ItemName, nil)
end)

-- Conecte o evento da tecla "F" para alternar o estado do rollback
game:GetService("UserInputService").InputBegan:Connect(function(input, gameProcessedEvent)
    if input.KeyCode == Enum.KeyCode.F and not gameProcessedEvent then
        RollbackEnabled = not RollbackEnabled
        local status = RollbackEnabled and "ativado" or "desativado"
        print("Rollback " .. status .. " para o item '" .. ItemName .. "'!")
    end
end)
